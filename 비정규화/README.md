# 비정규화

비정규(Denoramlizaiton)는 데이터를 중복시키거나 그룹핑함으로써 데이터 베이스의 성능을 향상시키기 위한 기법



## 비정규란

- 비정규화는 완전하게 정규화된 모델을 구축하고 해야한다. 완전한 정규모델에서 성능을 유발시키는 요건이 존재할때 선택적으로 비정규형을 채택
- 비정규 과정에는 정규화 과정이 포함된다. 실제로 비정규화를 수행하려면 정규화를 먼저 수행
- 비정규형을 하는 유일한 목적은 조회 성능을 향상시키기 위해
- 비정규화시 중복된 데이터의 정합성이 떨어지므로 정합성을 맞추는 작업이 필요
- 비정규화를 간단하게 설명하면 중복을 허용하는것



### 속성

- 추출속성: 기존에 존재하는 속성을 가공해서 생성할수있는 속성
  - 추출속성을 생성하는 원천속성은 주로 하위(자식) 엔터티의 속성이다. 보통 하위(자식) 엔터티의 많은 인스턴스를 읽어서 SUM , COUNT , MAX등의 처리

- 중복속성: 기존에 존재하는 속성을 복사(COPY) 해서 그대로 가져다 놓는 속성
  - 주로 상위 엔터티를 조인(JOIN)하기 싫어서 발생
  - 이런 중복은 보통 성능에 크게 도움이 되지않음
  - 상위(부모) 엔터티와 조인(JOIN)해서 일어도 IO가 나쁘지 않을때가 많음



### 비정규화 불필요이유

정규화된 엔티티의 데이터는 서로 분해되어 있어 다른 BLOCK에 저장된다. 분해된 데이터를 한번이 조회하게 되면 여러 블록에서 데이터를 가져와야 하기 때문에 느릴수 있다. 조회시간을 줄이는 것이 비정규화의 목적이지만 데이터베이스가 조회를 하기 위해서만 사용되지 않기도 하고 조회 조건에 따라 정규형이 빠를수도 있어서 무조건 비정규화하는 것은 좋지 않다.



### 비정규화 필요한 경우

- 은행 통장 잔고 같이 추출속성이지만 업무적으로 중요하여 기초속성처럼 쓰는 경우 논리 모델링 초기에서도 도출해야함
- 추출속성과 중복속성은 데이터의 정체성(성격)과 무관하다고 생각해서 물리 모델링 단계에서 도출해야함
- 성능에 도움이 될만하다고 판단되고 그렇게 분석했다면 모델링단계와 무관하게 도출되야함
- 추출 속성을 채택하는것은 때에 따라 의미가 있으며 검토의 여지가 있지만 중복 속성의 경우 얻는것에 비해 잃는 경우가 많다. (데이터 정합성 문제 )





## 참고

- http://wiki.gurubee.net/pages/viewpage.action?pageId=28116515
- http://wiki.gurubee.net/pages/viewpage.action?pageId=28116554
- http://wiki.gurubee.net/pages/viewpage.action?pageId=28116584
- http://wiki.gurubee.net/pages/viewpage.action?pageId=28116674